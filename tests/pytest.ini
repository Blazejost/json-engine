[pytest]
# Katalogi z testami
testpaths = tests

# Wzorzec nazw plików testowych
python_files = test_*.py

# Wzorzec nazw klas testowych
python_classes = Test*

# Wzorzec nazw funkcji testowych
python_functions = test_*

# Opcje wyświetlania
addopts =
    -v
    --strict-markers
    --tb=short
    --cov=json_engine
    --cov-report=html
    --cov-report=term-missing
    --cov-branch

# Minimalne pokrycie kodu (w procentach)
[coverage:report]
precision = 2
show_missing = True
skip_covered = False

# Ignoruj pewne pliki przy coverage
[coverage:run]
omit =
    */tests/*
    */demo_*.py
    */__pycache__/*
    */venv/*

# Markery
markers =
    slow: oznacza testy, które działają powoli
    integration: testy integracyjne
    unit: testy jednostkowe

# Filtrowanie warnings
filterwarnings =
    error
    ignore::UserWarning
    ignore::DeprecationWarning

# Timeout dla pojedynczego testu (opcjonalnie)
# timeout = 300

# Minimalna wersja Pythona
minversion = 3.8